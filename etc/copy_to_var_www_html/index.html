<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CiscoLive 2024 Las Vegas - LABDEV-2000</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Roboto', sans-serif;
    padding: 20px;
    font-size: 1.1em;
    line-height: 1.6;
    background-color: #f0f0f7;
    color: #333;
  }

  .snippet-box {
    margin-bottom: 20px;
    background-color: #fff;
    border: 1px solid #d3d3d3;
    border-radius: 4px;
    overflow: hidden;
  }

  .code {
    border-bottom: 1px solid #d3d3d3;
    background-color: #f9f9f9;
    padding: 10px;
    overflow-x: auto;
    white-space: nowrap;
  }

  .copy-btn {
    cursor: pointer;
    margin-top: 5px;
    padding: 5px 10px;
    background-color: #007bff;
    border: none;
    border-radius: 4px;
    color: white;
    font-size: 0.9em;
    transition: background-color 0.3s;
  }

  .copy-btn:hover {
    background-color: #0056b3;
  }

  .snippet-title {
    font-size: 1.4em;
    font-weight: bold;
    padding: 10px;
    background-color: #e9ecef;
    border-bottom: 1px solid #d3d3d3;
  }

  .snippet-description {
    margin-top: 5px;
    font-size: 1em;
    padding: 10px;
    color: #666;
  }

  .page-title {
    font-size: 2em;
    font-weight: bold;
    margin-bottom: 0.5em;
    color: #0056b3;
  }

  .page-subtitle {
    font-size: 1.5em;
    font-weight: bold;
    margin-bottom: 0.25em;
    color: #007bff;
  }

  .page-subsubtitle {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 1em;
    color: #343a40;
  }
</style>
</head>
<body>

<div class="page-title">CiscoLive 2024 Las Vegas</div>
<div class="page-subtitle">LABDEV-2000 Improving reliability and observability using closed-loop automation with AI-driven telemetry and Splunk</div>
<div class="page-subsubtitle">
  1.  Use the following snippets in your lab as outlined in your lab guide.<br>
  2.  Scroll past snippets to view telegraf.conf files used in this lab.<br>
</div>

<div class="snippet-box">
  <div class="snippet-title">Packet Rate Calculation</div>
  <pre class="code" id="snippet-1">
    | mstats rate_avg("infra-statistics.packets_received") as "Rate (Avg) /s"
    WHERE "index"="mertics_data"
    AND "interface_name"="GigabitEthernet0/0/0/0"
    OR "interface_name"="GigabitEthernet0/0/0/1"
    OR "interface_name"="GigabitEthernet0/0/0/2"
    span=10s
  </pre>
  <button class="copy-btn" onclick="copyToClipboard('snippet-1')">Copy</button>
  <p class="snippet-description">Use this snippet to calculate the average packet rate across specified interfaces over a 10-second span.</p>
</div>

<div class="snippet-box">
  <div class="snippet-title">Packet Rate Calculation #2</div>
  <pre class="code" id="snippet-2">
    | mstats rate_avg("infra-statistics.packets_received") as "Rate (Avg) /s" chart=true WHERE "index"="mertics_data" AND "telegraf_tag"="gnmi" AND ("interface_name"="GigabitEthernet0/0/0/0" OR "interface_name"="GigabitEthernet0/0/0/1" OR "interface_name"="GigabitEthernet0/0/0/2") span=10s BY interface_name
  </pre>
  <button class="copy-btn" onclick="copyToClipboard('snippet-2')">Copy</button>
  <p class="snippet-description">Use this snippet to calculate the average packet rate across specified interfaces over a 10-second span.</p>
</div>


<!-- Additional snippet boxes can be added here following the same structure -->

<script>
  function copyToClipboard(id) {
    var text = document.getElementById(id);
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(text);
    selection.removeAllRanges();
    selection.addRange(range);
    try {
      var successful = document.execCommand('copy');
      var msg = successful ? 'successful' : 'unsuccessful';
      console.log('Copy command was ' + msg);
      // Optionally, you can display an alert or another form of notification here
    } catch (err) {
      console.log('Oops, unable to copy');
      // Optionally, you can alert the user here that the copy failed
    }
    // Clear the selection after copying
    selection.removeAllRanges();
  }
</script>

</body>
</html>


<div class="snippet-box">
  <div class="snippet-title">View contents of telegraf.conf file containing gNMI subscriptions.</div>
  <p class="snippet-description">
    Scroll through the box below to read the entire file.
  </p>
  <iframe src="/gnmi.conf.txt" style="width: 100%; height: 400px; border: 1px solid #ccc;"></iframe>
</div>


<div class="snippet-box">
  <div class="snippet-title">View contents of telegraf.conf file containing SNMP polling configuration.</div>
  <p class="snippet-description">
    Scroll through the box below to read the entire file.
  </p>
  <iframe src="/snmp.conf.txt" style="width: 100%; height: 400px; border: 1px solid #ccc;"></iframe>
</div>